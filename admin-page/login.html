<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
      integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://unpkg.com/jquery-dropdown-datepicker@1.3.0/dist/jquery-dropdown-datepicker.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha512-ANkGm5vSmtDaoFA/NB1nVJzOKOiI4a/9GipFtkpMG8Rg2Bz8R1GFf5kfL0+z0lcv2X/KZRugwrAlVTAgmxgvIg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.3/js/bootstrap.min.js" integrity="sha512-1/RvZTcCDEUjY/CypiMz+iqqtaoQfAITmNSJY17Myp4Ms5mdxPS5UV7iOfdZoxcGhzFbOm6sntTKJppjvuhg4g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"
      integrity="sha512-BkpSL20WETFylMrcirBahHfSnY++H2O1W+UnEEO4yNIl+jI2+zowyoGJpbtk6bx97fBXf++WJHSSK2MV4ghPcg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/css/dataTables.bootstrap.min.css"
      integrity="sha512-BMbq2It2D3J17/C7aRklzOODG1IQ3+MHw3ifzBHMBwGO/0yUqYmsStgBjI0z5EYlaDEFnvYV7gNYdD3vFLRKsA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <title>login</title>
  </head>

  <style>
    .container {
      /* background:cyan; */
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    ._forms {
      display: flex;
      flex-direction: column;
      /* border: 2px solid black; */
      width: 100%;
    }

    ._input {
      padding: 0.4em;
      border-radius: 4px;
      outline: none;
      border: 1px solid lightgray;
    }

    .btn-half {
      padding: 0.5em 2em;
      border: none;
      outline: none;
      background: green;
      color: white;
    }
    .form {
      display: flex;
      flex-direction: column;
    }
  </style>

  <body>
    <div class="container d-flex flex-column">
      <h2 class="py-5">ObtineCredit.ro</h2>
      <!-- 
        <form action="" class="form">
            <div class="form-group py-2 my-2 _forms">
                <label for="p_user" class="_label">User</label>
                <input type="number" class="form-control form-control-md _input" id="p_pass" name="p_pass" />
            </div>
            <div class="form-group py-2 my-2 _forms">
                <label for="p_pass" class="_label">Password</label>
                <input type="email" class="form-control form-control-lg _input" id="e_email" name="e_email" />
            </div>
            <div class="pt-1 mb-4 w-50">
                <button class="btn btn-dark btn-lg btn-block" type="button">Login</button>
              </div>
        </form> -->

      <form action="" class="form" id="loginForm">
        <div class="_forms my-2">
          <label for="p_user" class="_label">User:</label>
          <input type="text" class="_input user_" id="p_user" name="p_user" />
        </div>

        <div class="_forms my-2">
          <label for="p_pass" class="_label">Password:</label>
          <input
            type="password"
            class="_input pass_"
            id="p_pass"
            name="p_pass"
          />
        </div>

        <div class="btn-div my-4">
          <button class="btn-half" type="submit">Login</button>
        </div>
      </form>
    </div>

    <script type="module">
       import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";

       import {
         getFirestore,
         collection,
         getDocs,
         getDoc,
         setDoc,
         doc,
         addDoc,
         updateDoc,
         deleteDoc,
         deleteField,
         onSnapshot,
         serverTimestamp,
         query,
         where,
       } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
       import {
         getStorage,
         ref,
         getDownloadURL,
         listAll,
         uploadBytes,
       } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-storage.js";

       import {
         getAuth,
         signInWithEmailAndPassword,
       } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";

       const firebaseConfig2 = {
      "yourcfg"
       };

       const app = initializeApp(firebaseConfig2);

       // Get a reference to the Firebase authentication
       const auth = getAuth(app);

       // Get the login form element
       const form = document.getElementById("loginForm");

       // Add event listener to the form submit event
       form.addEventListener("submit", async (event) => {
         event.preventDefault(); // Prevent form submission

         const email = document.getElementById("p_user").value;
         console.log(email, "email");
         const password = document.getElementById("p_pass").value;

         try {
           // Authenticate the user with the provided email and password
           const userCredential = await signInWithEmailAndPassword(
             auth,
             email,
             password
           );
           const user = userCredential.user;

           // Authentication successful, display the admin page or perform any other action
           if (user) {
             // Display the admin page or redirect to another HTML page
             window.location.href = "admin.html";
           }
         } catch (error) {
           // Authentication failed, show an error message
           alert("Authentication failed. Please check your email and password.");
         }
       });
    </script>
  </body>
</html>
